<html>
<head>
    <meta charset="UTF-8"/>
    <title>êµ¬êµ¬ë‹¨</title>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">
  'use strict';
  //í•¨ìˆ˜ì—ì„œë„ refë‘ stateë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ê²Œ Hooks
  //ì½”ë“œì˜ ì–‘ì´ í›¨ì”¬ ì ì–´ì§„ë‹¤.
  //ì—¬ê¸°ì„œ classë¬¸ë²•ê³¼ ë‹¤ë¥¸ì : refì™€ useRef Hook, setStateì™€ useState Hook
  //ğŸ›‘ ì£¼ì˜! í´ë˜ìŠ¤ ë¬¸ë²•ì—ì„  stateê°€ ë°”ë€Œë©´ render(){}ë§Œ ì¬ì‹¤í–‰ë˜ì§€ë§Œ,
  //í•¨ìˆ˜ ë¬¸ë²•ì—ì„  í•¨ìˆ˜ ì „ì²´ê°€ ë‹¤ì‹œ ì¬ì‹¤í–‰ë˜ê¸°ë•Œë¬¸ì—, ì¢€ ë” ëŠë¦´ ìˆ˜ ìˆë‹¤.
  const GuGuDan = () => {
    const [first,setFirst] = React.useState(Math.ceil(Math.random() * 9));
    const [second,setSecond] = React.useState(Math.ceil(Math.random() * 9));
    const [value,setValue] = React.useState('');
    const [result,setResult] = React.useState('');

    //ğŸ“Œ const [states,setStates] = React.useState({first:5,second:2,value:'',restul:''})
    //ìœ„ì™€ ê°™ì€ ì‹ìœ¼ë¡œ ì“¸ ìˆ˜ë„ ìˆì§€ë§Œ,
    //ê·¸ëŸ¼ ì•„ë˜ì—ì„œ setStates()í• ë•Œ,í•˜ë‚˜ì˜ secondë§Œ ë°”ê¿€ ê²½ìš°ë„, first,second,value,result ëª¨ë‘ ë‹¤ ì ì–´ì¤˜ì•¼í•œë‹¤.
    //setStates({first:5,second:6,value:'',restul:''})
    //ì´ì ì´ classë¬¸ë²•ì˜ setStateì™€ ë‹¬ë¼ì„œ, êµ¬ì¡°ë¶„í•´í• ë‹¹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ í›¨ í¸í•˜ë‹¤.

    const inputEl = React.useRef(null);

    const onChange = (e)=>{
      setValue(e.target.value) //classì—ì„œ setStateí•´ì£¼ë˜ê²Œ ì—†ì–´ì§
    }

    const onSubmit = (e) => { //eventëŠ” ì „ë‹¬ì•ˆí•´ì¤˜ë„ ìë™ìœ¼ë¡œ ì¸ìë¡œ ë°›ìŒ
      e.preventDefault();
      if(parseInt(value) === first * second){
        //ğŸ“Œsetì— í•¨ìˆ˜ ë„£ì–´ì„œ ì´ì „ state ê°€ì ¸ì˜¤ê¸°
        //classì—ì„œ this.setState((prevState)=>prevState.result) ì´ëŸ°ì‹ìœ¼ë¡œ ì˜ˆì „ stateê°€ì ¸ì˜¨ê²ƒì²˜ëŸ¼
        //í•¨ìˆ˜ì—ì„œ setResult((prevResult)=>prevResult)ì´ëŸ°ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¬ìˆ˜ ìˆë‹¤.
        setResult("ì •ë‹µ")
        setFirst(Math.ceil(Math.random() * 9))
        setSecond(Math.ceil(Math.random() * 9))
        setValue('')
        //stateë¥¼ ì¬ì„¤ì •í•˜ë©´ renderê°€ ì¼ì–´ë‚˜ë‹ˆê¹Œ renderê°€ ì´ ë„¤ë²ˆ ì¼ì–´ë‚˜ë‚˜? ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ
        //ì‹¤ì œë¡  ê·¸ê²Œ ì•„ë‹ˆë‹¤! ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•´ì„œ reactê°€ ì•Œì•„ì„œ ëª¨ì•„ì„œ í•œë²ˆì˜ renderì— ë‹¤ ì—…ëƒ ì‹œí‚¨ë‹¤.
        inputEl.current.focus()
      }else{
        setResult("ë•¡")
        setValue('')
        inputEl.current.focus() //ğŸ“Œ DOMìš”ì†Œì— ì ‘ê·¼í•  ë•Œ currentë¡œ ì ‘ê·¼í•´ì•¼í•œë‹¤.
      }
    }

    return ( //ğŸ“Œ classì—ì„œ render(){return()}ë¶€ë¶„
      <React.Fragment>
        <div>{first} ê³±í•˜ê¸° {second}ëŠ”?</div>
        <form onSubmit={onSubmit}>
          <input ref={inputEl} value={value} onChange={onChange}/>
          {/*ğŸ“Œ ref={this.onRefInput}ì²˜ëŸ¼ ë©”ì„œë“œ ì—°ê²°í•´ì„œ ë³€ìˆ˜ë¡œ domì„ ì„¤ì •í•˜ëŠ” ê³¼ì •ì´ í•„ìš”ì—†ë‹¤.*/}
          {/*const inputEl = React.useRef(null) ì„ ì–¸í•˜ê³  ì›í•˜ëŠ” ë¶€ë¶„ì— ë„£ì–´ì£¼ë©´ ë!*/}
          <button>ì…ë ¥!</button>
        </form>
        <div id="result">{result}</div>
      </React.Fragment>
    )
  }

</script>
<script type="text/babel">
  ReactDOM.render(<GuGuDan/>, document.querySelector('#root'));
</script>
</body>
</html>
